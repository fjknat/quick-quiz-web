<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golang Master Quiz</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts: Merriweather (Serif) & Fira Code (Mono) -->
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Merriweather:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- Confetti JS -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        /* Retro Palette */
        :root {
            --bg-cream: #fdf6e3;
            --text-dark: #002b36;
            --accent-orange: #cb4b16;
            --accent-yellow: #b58900;
            --accent-teal: #2aa198;
            --accent-red: #dc322f;
            --accent-green: #859900;
            --paper-shadow: 8px 8px 0px rgba(0,0,0,0.15);
        }

        body {
            background-color: var(--bg-cream);
            color: var(--text-dark);
            font-family: 'Merriweather', serif;
            background-image: radial-gradient(#d3cbb8 1px, transparent 1px);
            background-size: 20px 20px;
            -webkit-user-select: none; /* Safari */
            -ms-user-select: none; /* IE 10 and IE 11 */
            user-select: none; /* Standard syntax */
        }

        .font-mono {
            font-family: 'Fira Code', monospace;
        }

        /* Retro Components */
        .retro-card {
            background: #fff;
            border: 2px solid #002b36;
            box-shadow: var(--paper-shadow);
            transition: all 0.2s ease;
        }

        .btn-retro {
            background: var(--text-dark);
            color: #fff;
            border: 2px solid #002b36;
            font-family: 'Fira Code', monospace;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: transform 0.1s;
            box-shadow: 4px 4px 0px var(--accent-orange);
        }

        .btn-retro:hover {
            transform: translate(-1px, -1px);
            box-shadow: 6px 6px 0px var(--accent-orange);
        }

        .btn-retro:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0px var(--accent-orange);
        }

        .btn-secondary {
            background: #fff;
            color: var(--text-dark);
            box-shadow: 4px 4px 0px var(--accent-teal);
        }
        .btn-secondary:hover { box-shadow: 6px 6px 0px var(--accent-teal); }

        /* Grid Navigation */
        .q-grid-item {
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ccc;
            cursor: pointer;
            font-family: 'Fira Code', monospace;
            font-size: 0.8rem;
            transition: all 0.2s;
        }
        .q-grid-item:hover { background: #eee; }
        .q-grid-item.active { border-color: var(--accent-orange); border-width: 2px; font-weight: bold; }
        .q-grid-item.answered { background-color: var(--accent-teal); color: white; border-color: var(--accent-teal); }
        .q-grid-item.flagged { background-color: var(--accent-yellow); color: white; }

        /* Quiz Options */
        .option-label {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 2px solid #eee;
            margin-bottom: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Fira Code', monospace;
        }
        .option-label:hover { border-color: var(--accent-teal); background: #f0fdfc; }
        
        input[type="radio"]:checked + .option-text {
            color: var(--accent-orange);
            font-weight: bold;
        }
        
        .option-label.selected {
            border-color: var(--accent-orange);
            background-color: #fff5f0;
            box-shadow: 4px 4px 0px rgba(203, 75, 22, 0.2);
        }

        /* Result Page Styles */
        .pass-stamp {
            color: var(--accent-green);
            border: 4px solid var(--accent-green);
            transform: rotate(-5deg);
        }
        .fail-stamp {
            color: var(--accent-red);
            border: 4px solid var(--accent-red);
            transform: rotate(5deg);
        }

        code {
            background-color: #eee8d5;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.9em;
            color: #d33682;
        }
        pre {
            background-color: #002b36;
            color: #839496;
            padding: 1rem;
            overflow-x: auto;
            border-radius: 6px;
            margin: 1rem 0;
            font-family: 'Fira Code', monospace;
        }

        /* Lang Switcher */
        .lang-switch {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 50;
            background: white;
            border: 2px solid #002b36;
            padding: 0.5rem;
            box-shadow: 4px 4px 0px rgba(0,0,0,0.1);
            font-family: 'Fira Code', monospace;
            font-size: 0.8rem;
            cursor: pointer;
        }

        /* Animations */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Language Switcher -->
    <button id="btn-lang-toggle" onclick="toggleLanguage()" class="lang-switch">
        Language: <span class="font-bold text-[#cb4b16]">EN</span>
    </button>

    <!-- PAGE 1: WELCOME -->
    <div id="page-welcome" class="flex-grow flex items-center justify-center p-4">
        <div class="retro-card p-8 max-w-md w-full text-center animate-fade-in">
            <div class="mb-6 text-6xl text-center">üêπ</div>
            <h1 class="text-3xl font-bold mb-2 text-[#cb4b16]">GOLANG MASTER</h1>
            <h2 class="text-xl font-mono mb-6 text-gray-600">-- Comprehensive Quiz --</h2>
            
            <p id="txt-welcome-desc" class="mb-6 text-sm">
                Welcome to the Golang proficiency test.<br>
                Time: <strong>90 mins</strong> | Questions: <strong>60</strong><br>
                Requirement: <strong>45/60</strong> to PASS.
            </p>

            <div class="text-left mb-4">
                <label id="txt-enter-name" class="block font-mono text-sm mb-2 font-bold">ENTER YOUR NAME:</label>
                <input type="text" id="username-input" class="w-full p-3 border-2 border-[#002b36] font-mono focus:outline-none focus:border-[#cb4b16]" placeholder="Ex: Gopher Nguyen">
                <p id="name-error" class="text-red-500 text-xs mt-1 hidden">* Please enter your name to start.</p>
            </div>

            <button id="btn-start" onclick="startQuiz()" class="btn-retro w-full py-3 text-lg font-bold">
                START QUIZ <i class="fas fa-play ml-2"></i>
            </button>
        </div>
    </div>

    <!-- PAGE 2: QUIZ -->
    <div id="page-quiz" class="hidden flex-grow flex flex-col max-w-7xl mx-auto w-full p-2 md:p-6">
        <!-- Header -->
        <header class="flex flex-col md:flex-row justify-between items-center mb-6 bg-white border-2 border-black p-4 shadow-[4px_4px_0px_rgba(0,0,0,0.1)]">
            <div class="flex items-center gap-3 mb-2 md:mb-0">
                <div class="bg-[#002b36] text-white p-2 font-mono font-bold rounded">GO</div>
                <div>
                    <h1 class="font-bold text-lg leading-tight">Comprehensive Exam</h1>
                    <p class="text-xs text-gray-500 font-mono">Candidate: <span id="display-name" class="font-bold text-[#cb4b16]">Unknown</span></p>
                </div>
            </div>
            
            <div class="flex items-center gap-6">
                <div class="text-center">
                    <p id="txt-time-remaining" class="text-[10px] uppercase tracking-wider font-bold text-gray-400">Time Remaining</p>
                    <div id="timer" class="text-2xl font-mono font-bold text-[#cb4b16]">90:00</div>
                </div>
                <button id="btn-submit" onclick="confirmSubmit()" class="btn-retro px-6 py-2 bg-[#cb4b16] border-[#cb4b16] shadow-none hover:bg-red-600 text-sm">
                    SUBMIT
                </button>
            </div>
        </header>

        <div class="flex flex-col lg:flex-row gap-6 flex-grow">
            <!-- Sidebar: Question Map -->
            <aside class="w-full lg:w-64 flex-shrink-0 order-2 lg:order-1">
                <div class="retro-card p-4 h-full">
                    <h3 id="txt-q-map" class="font-mono text-sm font-bold mb-3 border-b-2 pb-1 border-gray-100">QUESTION MAP</h3>
                    <div id="question-grid" class="grid grid-cols-6 gap-2">
                        <!-- JS generated grid items -->
                    </div>
                    <div class="mt-4 text-xs font-mono space-y-1 text-gray-500">
                        <div class="flex items-center gap-2"><div class="w-3 h-3 bg-[#2aa198]"></div> Answered</div>
                        <div class="flex items-center gap-2"><div class="w-3 h-3 border border-orange-500 font-bold text-center leading-3 text-[8px] text-orange-500">N</div> Current</div>
                    </div>
                </div>
            </aside>

            <!-- Main Question Area -->
            <main class="flex-grow retro-card p-6 md:p-8 flex flex-col justify-between order-1 lg:order-2 animate-fade-in relative min-h-[500px]">
                <div id="quiz-content">
                    <!-- Dynamic Content -->
                    <div class="mb-6 flex justify-between items-start">
                        <span class="bg-[#eee8d5] text-[#b58900] font-mono px-3 py-1 text-sm font-bold rounded">DAY <span id="q-day">1</span></span>
                        <span class="font-mono text-gray-400 text-sm">Question <span id="q-current">1</span> of 60</span>
                    </div>

                    <h2 id="q-text" class="text-xl md:text-2xl font-bold mb-6 text-[#002b36] leading-relaxed">
                        Loading question...
                    </h2>
                    
                    <div id="q-code-container" class="hidden mb-6 text-sm">
                        <!-- Code block will be injected here -->
                    </div>

                    <div id="q-options" class="space-y-3 max-w-3xl">
                        <!-- Options generated here -->
                    </div>
                </div>

                <!-- Navigation Footer -->
                <div class="flex justify-between items-center mt-8 pt-6 border-t-2 border-dashed border-gray-200">
                    <button onclick="prevQuestion()" id="btn-prev" class="btn-retro btn-secondary px-6 py-2 text-sm disabled:opacity-50">
                        <i class="fas fa-arrow-left mr-2"></i> PREV
                    </button>
                    <button onclick="nextQuestion()" id="btn-next" class="btn-retro px-6 py-2 text-sm">
                        NEXT <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </main>
        </div>
    </div>

    <!-- PAGE 3: RESULT -->
    <div id="page-result" class="hidden flex-grow flex items-center justify-center p-4">
        <div class="retro-card p-8 max-w-2xl w-full text-center relative overflow-hidden animate-fade-in">
            <div id="result-header" class="mb-8">
                <!-- Result Status -->
            </div>
			
			<!-- Candidate Info Section -->
            <div class="mb-8 border-y-2 border-black py-4 bg-gray-50 flex flex-col sm:flex-row justify-between items-center gap-4 px-6 font-mono">
                <div class="text-left">
                    <p class="text-[10px] text-gray-500 uppercase font-bold" id="lbl-result-candidate">Candidate</p>
                    <p id="result-username" class="text-lg font-bold text-[#002b36]"></p>
                </div>
                <div class="text-right">
                    <p class="text-[10px] text-gray-500 uppercase font-bold" id="lbl-result-date">Completion Time</p>
                    <p id="result-timestamp" class="text-sm font-bold text-gray-600"></p>
                </div>
            </div>

            <div class="grid grid-cols-3 gap-4 mb-8">
                <div class="bg-gray-50 p-4 rounded border">
                    <div id="lbl-score" class="text-xs text-gray-500 uppercase">Score</div>
                    <div id="score-val" class="text-3xl font-bold font-mono">0/60</div>
                </div>
                <div class="bg-gray-50 p-4 rounded border">
                    <div id="lbl-pct" class="text-xs text-gray-500 uppercase">Percentage</div>
                    <div id="score-pct" class="text-3xl font-bold font-mono">0%</div>
                </div>
                <div class="bg-gray-50 p-4 rounded border">
                    <div id="lbl-result" class="text-xs text-gray-500 uppercase">Result</div>
                    <div id="score-status" class="text-3xl font-bold font-mono">---</div>
                </div>
            </div>

            <div class="text-left bg-[#fdf6e3] p-4 rounded border border-[#002b36] mb-6 max-h-60 overflow-y-auto">
                <h4 id="lbl-review" class="font-bold mb-2 text-sm uppercase">Review Notes:</h4>
                <ul id="review-list" class="text-sm space-y-2 font-mono">
                    <!-- Wrong answers listed here -->
                </ul>
            </div>

            <button id="btn-retake" onclick="location.reload()" class="btn-retro w-full py-3">RETAKE QUIZ</button>
        </div>
    </div>

    <script>
        // --- DATA & ENCRYPTION ---
        // 0=A, 1=B, 2=C, 3=D
        const rawKey = [
            2,1,3,1,1,2,2,0,2,1, // Day 1
            1,1,2,1,0,0,2,2,1,0, // Day 2
            2,1,1,3,1,3,2,1,1,2, // Day 3
            2,1,1,0,2,1,1,1,1,0, // Day 4
            1,0,0,1,1,1,1,1,1,1, // Day 5
            1,3,1,1,1,0,1,1,1,1  // Day 6
        ];
        
        const encodedKey = btoa(JSON.stringify(rawKey));

        // Question Data with MULTI-LANGUAGE Support
        const questions = [
            // --- DAY 1 ---
            { 
                day: 1, 
                code: null,
                q_en: "Which command is used to initialize a new Go module in the current directory?",
                q_vi: "L·ªánh n√†o sau ƒë√¢y ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ kh·ªüi t·∫°o m·ªôt Go module m·ªõi trong th∆∞ m·ª•c hi·ªán t·∫°i v√† t·∫°o file `go.mod`?", 
                opts_en: ["go init <module-name>", "go create module <module-name>", "go mod init <module-name>", "go start <module-name>"],
                opts_vi: ["go init <module-name>", "go create module <module-name>", "go mod init <module-name>", "go start <module-name>"]
            },
            { 
                day: 1, 
                code: `package main\nimport "fmt"\nfunc main() {\n    var x int\n    y := 10\n    if true {\n        y := 20\n        x = y\n    }\n    fmt.Println(x, y)\n}`,
                q_en: "What is the output of the following code?",
                q_vi: "ƒêo·∫°n code sau in ra k·∫øt qu·∫£ g√¨?", 
                opts_en: ["20 20", "20 10", "0 10", "Compile Error"],
                opts_vi: ["20 20", "20 10", "0 10", "L·ªói bi√™n d·ªãch"]
            },
            { 
                day: 1, 
                code: null,
                q_en: "Go has only one looping keyword. What is it?",
                q_vi: "Go ch·ªâ c√≥ m·ªôt t·ª´ kh√≥a duy nh·∫•t cho v√≤ng l·∫∑p. ƒê√≥ l√† g√¨?", 
                opts_en: ["while", "loop", "foreach", "for"],
                opts_vi: ["while", "loop", "foreach", "for"]
            },
            { 
                day: 1, 
                code: `func main() {\n    a := 10\n    p := &a\n    *p = 20\n    fmt.Println(a)\n}`,
                q_en: "What is the result of the following code?",
                q_vi: "K·∫øt qu·∫£ c·ªßa ƒëo·∫°n code sau l√† g√¨?", 
                opts_en: ["10", "20", "Print memory address of a", "Compile error"],
                opts_vi: ["10", "20", "In ra ƒë·ªãa ch·ªâ b·ªô nh·ªõ c·ªßa a", "L·ªói bi√™n d·ªãch"]
            },
            { 
                day: 1, 
                code: null,
                q_en: "Which statement is MOST accurate regarding Stack vs Heap allocation in Go?",
                q_vi: "Ph√°t bi·ªÉu n√†o sau ƒë√¢y l√† ch√≠nh x√°c nh·∫•t v·ªÅ vi·ªác c·∫•p ph√°t b·ªô nh·ªõ Stack v√† Heap trong Go?", 
                opts_en: ["All local variables are always on Stack", "Go uses 'Escape Analysis' to decide Stack vs Heap", "Using `new()` guarantees Heap allocation", "Pointers are always on Heap"],
                opts_vi: ["M·ªçi bi·∫øn c·ª•c b·ªô lu√¥n n·∫±m tr√™n Stack", "Go s·ª≠ d·ª•ng 'Escape Analysis' ƒë·ªÉ quy·∫øt ƒë·ªãnh bi·∫øn n·∫±m tr√™n Stack hay Heap", "N·∫øu d√πng `new()`, bi·∫øn ch·∫Øc ch·∫Øn n·∫±m tr√™n Heap", "Bi·∫øn con tr·ªè lu√¥n n·∫±m tr√™n Heap"]
            },
            { 
                day: 1, 
                code: null,
                q_en: "What are the 3 components of a Go Slice?",
                q_vi: "Slice trong Go th·ª±c ch·∫•t bao g·ªìm 3 th√†nh ph·∫ßn n√†o?", 
                opts_en: ["Pointer to array, Length, Type", "Value, Index, Capacity", "Pointer to underlying array, Length, Capacity", "Start Index, End Index, Size"],
                opts_vi: ["Pointer to array, Length, Type", "Value, Index, Capacity", "Pointer to underlying array, Length, Capacity", "Start Index, End Index, Size"]
            },
            { 
                day: 1, 
                code: `s1 := []int{1, 2, 3}\ns2 := append(s1, 4)\ns1[0] = 99\nfmt.Println(s2[0])`,
                q_en: "What happens to `s1` after this code (assuming capacity is sufficient)?",
                q_vi: "ƒêi·ªÅu g√¨ x·∫£y ra v·ªõi `s1` sau khi ch·∫°y code n√†y? (Gi·∫£ s·ª≠ capacity ƒë·ªß l·ªõn)", 
                opts_en: ["Always 1", "Always 99", "Depends on initial capacity of s1", "Runtime Error"],
                opts_vi: ["Lu√¥n l√† 1", "Lu√¥n l√† 99", "Ph·ª• thu·ªôc v√†o capacity c·ªßa s1 ban ƒë·∫ßu (c√≥ th·ªÉ l√† 1 ho·∫∑c 99)", "L·ªói runtime"]
            },
            { 
                day: 1, 
                code: null,
                q_en: "Which code segment causes a runtime panic?",
                q_vi: "ƒêo·∫°n code n√†o sau ƒë√¢y s·∫Ω g√¢y ra l·ªói panic khi ch·∫°y?", 
                opts_en: [`var m map[string]int; m["a"] = 1`, `m := make(map[string]int); m["a"] = 1`, `m := map[string]int{}; m["a"] = 1`, `m := map[string]int{"a": 1}; delete(m, "a")`],
                opts_vi: [`var m map[string]int; m["a"] = 1`, `m := make(map[string]int); m["a"] = 1`, `m := map[string]int{}; m["a"] = 1`, `m := map[string]int{"a": 1}; delete(m, "a")`]
            },
            { 
                day: 1, 
                code: null,
                q_en: "What is the iteration order of a Map using `range`?",
                q_vi: "Th·ª© t·ª± duy·ªát c√°c ph·∫ßn t·ª≠ trong Map khi d√πng v√≤ng l·∫∑p `range` l√† g√¨?", 
                opts_en: ["Ascending key order", "Insertion order", "Random", "Alphabetical order of Value"],
                opts_vi: ["Theo th·ª© t·ª± key tƒÉng d·∫ßn", "Theo th·ª© t·ª± insertion", "Ng·∫´u nhi√™n (Random)", "Theo th·ª© t·ª± b·∫£ng ch·ªØ c√°i Value"]
            },
            { 
                day: 1, 
                code: null,
                q_en: "What are the Zero values for `int`, `string`, `bool`, `pointer` respectively?",
                q_vi: "Gi√° tr·ªã Zero value c·ªßa c√°c ki·ªÉu d·ªØ li·ªáu `int`, `string`, `bool`, `pointer` l·∫ßn l∆∞·ª£t l√† g√¨?", 
                opts_en: [`0, "null", false, nil`, `0, "", false, nil`, `-1, "", true, NULL`, `0, "", 0, 0`],
                opts_vi: [`0, "null", false, nil`, `0, "", false, nil`, `-1, "", true, NULL`, `0, "", 0, 0`]
            },
            
            // --- DAY 2 ---
            { 
                day: 2, 
                code: null,
                q_en: "Go has no Inheritance. What technique does it use for code reuse?",
                q_vi: "Go kh√¥ng c√≥ Class v√† Inheritance. ƒê·ªÉ t√°i s·ª≠ d·ª•ng code c·ªßa m·ªôt struct kh√°c, Go s·ª≠ d·ª•ng k·ªπ thu·∫≠t g√¨?", 
                opts_en: ["Polymorphism", "Struct Embedding (Composition)", "Abstract Classes", "Mixins"],
                opts_vi: ["Polymorphism", "Struct Embedding (Composition)", "Abstract Classes", "Mixins"]
            },
            { 
                day: 2, 
                code: `package models\ntype User struct {\n    Username string\n    password string\n}`,
                q_en: "In package `models`, which field of `User` struct is accessible from `main` package?",
                q_vi: "Trong package `models`, struct `User` ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a nh∆∞ sau. Field n√†o c√≥ th·ªÉ ƒë∆∞·ª£c truy c·∫≠p t·ª´ package `main`?", 
                opts_en: ["Both Username and password", "Only Username", "Only password", "Neither"],
                opts_vi: ["C·∫£ Username v√† password", "Ch·ªâ Username", "Ch·ªâ password", "Kh√¥ng field n√†o c·∫£"]
            },
            { 
                day: 2, 
                code: null,
                q_en: "When MUST you use a Pointer Receiver (`func (s *MyStruct) Name()`)?",
                q_vi: "Khi n√†o b·∫°n B·∫ÆT BU·ªòC ph·∫£i s·ª≠ d·ª•ng Pointer Receiver (`func (s *MyStruct) Name()`) thay v√¨ Value Receiver?", 
                opts_en: ["When method doesn't modify struct", "When struct is very small", "When method modifies struct or struct is large", "Always for safety"],
                opts_vi: ["Khi method kh√¥ng thay ƒë·ªïi gi√° tr·ªã c·ªßa struct", "Khi struct r·∫•t nh·ªè", "Khi method c·∫ßn thay ƒë·ªïi tr·∫°ng th√°i c·ªßa struct ho·∫∑c struct qu√° l·ªõn", "Lu√¥n lu√¥n d√πng cho an to√†n"]
            },
            { 
                day: 2, 
                code: null,
                q_en: "'If it walks like a duck...' refers to what property of Go Interfaces?",
                q_vi: "C√¢u n√≥i 'If it walks like a duck and quacks like a duck, it's a duck' √°m ch·ªâ t√≠nh ch·∫•t n√†o c·ªßa Interface trong Go?", 
                opts_en: ["Explicit implementation", "Implicit implementation", "Multiple inheritance", "Java-like interfaces"],
                opts_vi: ["Interface ph·∫£i ƒë∆∞·ª£c implement t∆∞·ªùng minh", "Interface Implementation l√† ng·∫ßm ƒë·ªãnh (Implicit)", "Go h·ªó tr·ª£ ƒëa k·∫ø th·ª´a", "Interface gi·ªëng h·ªát Java"]
            },
            { 
                day: 2, 
                code: null,
                q_en: "What does `interface{}` (or `any`) mean?",
                q_vi: "Ki·ªÉu d·ªØ li·ªáu `interface{}` (ho·∫∑c `any`) c√≥ √Ω nghƒ©a g√¨?", 
                opts_en: ["Interface with no methods, satisfied by any type", "A null pointer", "Only holds int and string", "Used for old Generics"],
                opts_vi: ["N√≥ l√† m·ªôt interface kh√¥ng c√≥ method n√†o, m·ªçi ki·ªÉu d·ªØ li·ªáu ƒë·ªÅu th·ªèa m√£n", "N√≥ l√† m·ªôt con tr·ªè null", "N√≥ ch·ªâ ch·ª©a ƒë∆∞·ª£c int v√† string", "D√πng cho Generics c≈©"]
            },
            { 
                day: 2, 
                code: `var i interface{} = "hello"\ns, ok := i.(int)\nfmt.Println(s, ok)`,
                q_en: "What is the output?",
                q_vi: "ƒêo·∫°n code sau in ra g√¨?", 
                opts_en: ["0 false", "0 true", "Panic runtime", "Compile error"],
                opts_vi: ["0 false", "0 true", "Panic runtime", "L·ªói bi√™n d·ªãch"]
            },
            { 
                day: 2, 
                code: null,
                q_en: "What is the special purpose of the `internal/` directory?",
                q_vi: "Theo chu·∫©n 'Standard Go Project Layout', th∆∞ m·ª•c `internal/` c√≥ √Ω nghƒ©a g√¨ ƒë·∫∑c bi·ªát?", 
                opts_en: ["Config files", "Public library code", "Private code, blocked from external import", "Binary files"],
                opts_vi: ["Ch·ª©a file c·∫•u h√¨nh", "Ch·ª©a code th∆∞ vi·ªán public", "Ch·ª©a code ri√™ng t∆∞, ch·∫∑n import t·ª´ b√™n ngo√†i", "Ch·ª©a file binary"]
            },
            { 
                day: 2, 
                code: null,
                q_en: "When is an Interface considered `nil`?",
                q_vi: "M·ªôt Interface ƒë∆∞·ª£c coi l√† `nil` khi n√†o?", 
                opts_en: ["When its value is nil", "When its type is nil", "When both value and type are nil", "Never"],
                opts_vi: ["Khi value b√™n trong n√≥ l√† nil", "Khi type b√™n trong n√≥ l√† nil", "Khi c·∫£ value v√† type b√™n trong n√≥ ƒë·ªÅu l√† nil", "Interface kh√¥ng bao gi·ªù nil"]
            },
            { 
                day: 2, 
                code: null,
                q_en: "How are Struct tags (e.g., `json:\"name\"`) accessed?",
                q_vi: "Struct tags (v√≠ d·ª•: `json:\"name\"`) ƒë∆∞·ª£c truy c·∫≠p th√¥ng qua c∆° ch·∫ø n√†o?", 
                opts_en: ["Regex", "Reflection", "Text parsing", "Compiler flags"],
                opts_vi: ["Regex", "Reflection", "Parsing file text", "Compiler flags"]
            },
            { 
                day: 2, 
                code: null,
                q_en: "How to import a package only for its side-effects (running `init()`)?",
                q_vi: "L√†m sao ƒë·ªÉ import m·ªôt package nh∆∞ng kh√¥ng s·ª≠ d·ª•ng n√≥ ngay (ch·∫°y h√†m `init()`)?", 
                opts_en: [`import _ "package/path"`, `import . "package/path"`, `import "package/path"`, `import alias "package/path"`],
                opts_vi: [`import _ "package/path"`, `import . "package/path"`, `import "package/path"`, `import alias "package/path"`]
            },

            // --- DAY 3 ---
            { 
                day: 3, 
                code: null,
                q_en: "How does a Goroutine differ from an OS Thread?",
                q_vi: "Goroutine kh√°c g√¨ so v·ªõi OS Thread?", 
                opts_en: ["Heavier than OS Thread", "Managed by Kernel", "Lightweight, managed by Go Runtime", "Runs on 1 CPU core only"],
                opts_vi: ["N·∫∑ng h∆°n OS Thread", "Qu·∫£n l√Ω b·ªüi OS Kernel", "Lightweight thread qu·∫£n l√Ω b·ªüi Go Runtime", "Ch·ªâ ch·∫°y tr√™n 1 CPU core"]
            },
            { 
                day: 3, 
                code: `var wg sync.WaitGroup\nwg.Add(1)\ngo func() {\n    fmt.Println("Done")\n    // Missing line\n}()\nwg.Wait()`,
                q_en: "What is missing in this code to work correctly?",
                q_vi: "ƒêo·∫°n code sau thi·∫øu ƒëi·ªÅu g√¨ ƒë·ªÉ ch·∫°y ƒë√∫ng (ch·ªù goroutine ho√†n th√†nh)?", 
                opts_en: ["wg.Add(0)", "wg.Done()", "return", "wg.Close()"],
                opts_vi: ["wg.Add(0)", "wg.Done()", "return", "wg.Close()"]
            },
            { 
                day: 3, 
                code: null,
                q_en: "Sending to an Unbuffered Channel without a receiver causes what?",
                q_vi: "ƒêi·ªÅu g√¨ x·∫£y ra khi g·ª≠i d·ªØ li·ªáu v√†o m·ªôt Unbuffered Channel m√† ch∆∞a c√≥ ai ƒëang ch·ªù nh·∫≠n?", 
                opts_en: ["Stored in buffer", "Sender blocks until receiver is ready", "Data lost", "Panic"],
                opts_vi: ["L∆∞u v√†o b·ªô ƒë·ªám", "Sender b·ªã block ƒë·∫øn khi c√≥ Receiver", "D·ªØ li·ªáu b·ªã m·∫•t", "G√¢y l·ªói Panic"]
            },
            { 
                day: 3, 
                code: null,
                q_en: "Which action causes a Panic on a Channel?",
                q_vi: "H√†nh ƒë·ªông n√†o sau ƒë√¢y g√¢y Panic tr√™n Channel?", 
                opts_en: ["Send to closed channel", "Receive from closed channel", "Close nil channel", "Both A and C"],
                opts_vi: ["G·ª≠i v√†o closed channel", "Nh·∫≠n t·ª´ closed channel", "ƒê√≥ng nil channel", "C·∫£ A v√† C"]
            },
            { 
                day: 3, 
                code: null,
                q_en: "What is the purpose of `select`?",
                q_vi: "`select` trong Go d√πng ƒë·ªÉ l√†m g√¨?", 
                opts_en: ["Select array element", "Handle multiple channel operations", "Query DB", "Prioritize Goroutine"],
                opts_vi: ["Ch·ªçn ph·∫ßn t·ª≠ trong m·∫£ng", "X·ª≠ l√Ω nhi·ªÅu operations tr√™n Channel c√πng l√∫c", "Query database", "Ch·ªçn goroutine ∆∞u ti√™n"]
            },
            { 
                day: 3, 
                code: null,
                q_en: "Package `context` is NOT used for?",
                q_vi: "Package `context` th∆∞·ªùng KH√îNG ƒë∆∞·ª£c d√πng cho m·ª•c ƒë√≠ch n√†o?", 
                opts_en: ["Request-scoped data", "Cancellation", "Timeout management", "Storing large data like File Content"],
                opts_vi: ["Truy·ªÅn d·ªØ li·ªáu request-scoped", "Qu·∫£n l√Ω h·ªßy b·ªè", "Qu·∫£n l√Ω Timeout", "L∆∞u tr·ªØ d·ªØ li·ªáu l·ªõn nh∆∞ Database Cache"]
            },
            { 
                day: 3, 
                code: null,
                q_en: "Which function creates a context with automatic cancellation after a duration?",
                q_vi: "H√†m n√†o t·∫°o ra m·ªôt context c√≥ kh·∫£ nƒÉng t·ª± ƒë·ªông h·ªßy sau m·ªôt kho·∫£ng th·ªùi gian nh·∫•t ƒë·ªãnh?", 
                opts_en: ["context.Background()", "context.WithCancel()", "context.WithTimeout()", "context.WithValue()"],
                opts_vi: ["context.Background()", "context.WithCancel()", "context.WithTimeout()", "context.WithValue()"]
            },
            { 
                day: 3, 
                code: null,
                q_en: "Common cause of 'Goroutine Leak'?",
                q_vi: "Nguy√™n nh√¢n ph·ªï bi·∫øn nh·∫•t g√¢y ra 'Goroutine Leak' l√† g√¨?", 
                opts_en: ["Too many goroutines", "Blocked forever (no return)", "No WaitGroup", "Out of RAM"],
                opts_vi: ["T·∫°o qu√° nhi·ªÅu goroutine", "Goroutine b·ªã block m√£i m√£i v√† kh√¥ng return", "Kh√¥ng d√πng WaitGroup", "M√°y t√≠nh h·∫øt RAM"]
            },
            { 
                day: 3, 
                code: null,
                q_en: "Which pattern uses a fixed group of Goroutines to process jobs?",
                q_vi: "Pattern n√†o d√πng m·ªôt nh√≥m c·ªë ƒë·ªãnh c√°c Goroutines ƒë·ªÉ x·ª≠ l√Ω h√†ng ƒë·ª£i c√°c jobs?", 
                opts_en: ["Pipeline", "Worker Pool", "Fan-in Fan-out", "Singleton"],
                opts_vi: ["Pipeline", "Worker Pool", "Fan-in Fan-out", "Singleton"]
            },
            { 
                day: 3, 
                code: null,
                q_en: "Difference between `context.Background()` and `context.TODO()`?",
                q_vi: "`context.Background()` v√† `context.TODO()` kh√°c nhau th·∫ø n√†o v·ªÅ ch·ª©c nƒÉng?", 
                opts_en: ["Background has timeout", "TODO is stronger", "Functionally identical, semantic difference", "Background for main, TODO for test"],
                opts_vi: ["Background c√≥ timeout, TODO th√¨ kh√¥ng", "TODO m·∫°nh h∆°n", "Gi·ªëng h·ªát nhau v·ªÅ ch·ª©c nƒÉng, kh√°c v·ªÅ ng·ªØ nghƒ©a", "Background cho main, TODO cho test"]
            },

            // --- DAY 4 ---
            { 
                day: 4, 
                code: null,
                q_en: "Core interface for handling HTTP requests?",
                q_vi: "Interface c·ªët l√µi ƒë·ªÉ x·ª≠ l√Ω HTTP request trong Go l√† g√¨?", 
                opts_en: ["http.Server", "http.Client", "http.Handler", "http.Router"],
                opts_vi: ["http.Server", "http.Client", "http.Handler", "http.Router"]
            },
            { 
                day: 4, 
                code: null,
                q_en: "Standard Middleware function signature?",
                q_vi: "Ch·ªØ k√Ω (Signature) chu·∫©n c·ªßa m·ªôt Middleware function trong Go th∆∞·ªùng tr√¥ng nh∆∞ th·∫ø n√†o?", 
                opts_en: ["func(w, r)", "func(next http.Handler) http.Handler", "func(req JSON) JSON", "func(ctx) error"],
                opts_vi: ["func(w, r)", "func(next http.Handler) http.Handler", "func(req JSON) JSON", "func(ctx) error"]
            },
            { 
                day: 4, 
                code: null,
                q_en: "Tag to omit empty field in JSON?",
                q_vi: "ƒê·ªÉ m·ªôt field trong struct kh√¥ng xu·∫•t hi·ªán trong JSON n·∫øu n√≥ r·ªóng, ta d√πng tag n√†o?", 
                opts_en: [`json:"name,hide"`, `json:"name,omitempty"`, `json:"-"`, `json:"name,ignore"`],
                opts_vi: [`json:"name,hide"`, `json:"name,omitempty"`, `json:"-"`, `json:"name,ignore"`]
            },
            { 
                day: 4, 
                code: null,
                q_en: "When to use `json.Decoder` over `json.Unmarshal`?",
                q_vi: "Khi n√†o n√™n d√πng `json.Decoder` thay v√¨ `json.Unmarshal`?", 
                opts_en: ["Streaming data (io.Reader) or large payload", "Small data in string", "Decoder is 2x faster", "Decoder is easier"],
                opts_vi: ["Khi d·ªØ li·ªáu t·ª´ stream (io.Reader) v√† l·ªõn", "Khi d·ªØ li·ªáu nh·ªè trong bi·∫øn string", "Decoder nhanh h∆°n g·∫•p ƒë√¥i", "Decoder d·ªÖ d√πng h∆°n"]
            },
            { 
                day: 4, 
                code: null,
                q_en: "Function to wrap an error while keeping the original?",
                q_vi: "ƒê·ªÉ wrap m·ªôt error g·ªëc th√™m ng·ªØ c·∫£nh nh∆∞ng v·∫´n gi·ªØ error g·ªëc, d√πng l·ªánh n√†o?", 
                opts_en: [`fmt.Errorf("%v")`, `errors.New()`, `fmt.Errorf("%w")`, `fmt.Sprint()`],
                opts_vi: [`fmt.Errorf("%v")`, `errors.New()`, `fmt.Errorf("%w")`, `fmt.Sprint()`]
            },
            { 
                day: 4, 
                code: null,
                q_en: "Function to check if error is of specific target type (unwrap aware)?",
                q_vi: "ƒê·ªÉ ki·ªÉm tra xem m·ªôt error c√≥ ph·∫£i l√† lo·∫°i l·ªói c·ª• th·ªÉ n√†o ƒë√≥ kh√¥ng (unwrap aware), ta d√πng h√†m n√†o?", 
                opts_en: ["if err == target", "if errors.Is(err, target)", "if errors.As(err, target)", "if err.Type() == target"],
                opts_vi: ["if err == target", "if errors.Is(err, target)", "if errors.As(err, target)", "if err.Type() == target"]
            },
            { 
                day: 4, 
                code: null,
                q_en: "Why is reading `r.Body` in logging middleware dangerous?",
                q_vi: "T·∫°i sao ƒë·ªçc `r.Body` trong middleware log th∆∞·ªùng g√¢y l·ªói logic?", 
                opts_en: ["Uses too much RAM", "r.Body drains after read (EOF)", "It is locked", "Cannot print binary"],
                opts_vi: ["T·ªën RAM", "r.Body l√† stream m·ªôt chi·ªÅu, ƒë·ªçc xong s·∫Ω c·∫°n (EOF)", "B·ªã kh√≥a", "Kh√¥ng in ƒë∆∞·ª£c binary"]
            },
            { 
                day: 4, 
                code: null,
                q_en: "JSON output of `User { Name string; age int }`?",
                q_vi: "N·∫øu struct `User { Name string; age int }` d√πng `json.Marshal`, output JSON s·∫Ω l√† g√¨?", 
                opts_en: [`{"Name": "...", "age": ...}`, `{"Name": "..."}`, "Panic", `{"name": "...", "Age": ...}`],
                opts_vi: [`{"Name": "...", "age": ...}`, `{"Name": "..."}`, "Panic", `{"name": "...", "Age": ...}`]
            },
            { 
                day: 4, 
                code: null,
                q_en: "Status code for successful resource creation?",
                q_vi: "Status code n√†o n√™n tr·∫£ v·ªÅ khi t·∫°o m·ªõi resource th√†nh c√¥ng?", 
                opts_en: ["200 OK", "201 Created", "202 Accepted", "204 No Content"],
                opts_vi: ["200 OK", "201 Created", "202 Accepted", "204 No Content"]
            },
            { 
                day: 4, 
                code: null,
                q_en: "What are 'Sentinel Errors'?",
                q_vi: "'Sentinel Errors' l√† g√¨?", 
                opts_en: ["Global error variables (e.g., io.EOF)", "Compile errors", "Hardware errors", "Custom Error Interface"],
                opts_vi: ["C√°c bi·∫øn error to√†n c·ª•c (VD: io.EOF)", "L·ªói bi√™n d·ªãch", "L·ªói ph·∫ßn c·ª©ng", "Interface Error t√πy ch·ªânh"]
            },

            // --- DAY 5 ---
            { 
                day: 5, 
                code: null,
                q_en: "Suffix required for Go test files?",
                q_vi: "ƒê·ªÉ Go tool nh·∫≠n di·ªán file l√† file test, t√™n file ph·∫£i c√≥ h·∫≠u t·ªë g√¨?", 
                opts_en: [".test.go", "_test.go", "_spec.go", "-test.go"],
                opts_vi: [".test.go", "_test.go", "_spec.go", "-test.go"]
            },
            { 
                day: 5, 
                code: null,
                q_en: "Typical structure of Table-Driven Test?",
                q_vi: "C·∫•u tr√∫c ƒëi·ªÉn h√¨nh c·ªßa Table-Driven Test th∆∞·ªùng bao g·ªìm?", 
                opts_en: ["Slice of structs -> Range loop -> t.Run()", "Multiple functions TestCase1, TestCase2", "Reading Excel", "Random input"],
                opts_vi: ["Slice struct input/output -> Range loop -> t.Run()", "Nhi·ªÅu h√†m TestCase1, TestCase2", "ƒê·ªçc file Excel", "Random input"]
            },
            { 
                day: 5, 
                code: null,
                q_en: "Why use Mocking for DB/AWS services?",
                q_vi: "T·∫°i sao c·∫ßn d√πng Mocking khi test service g·ªçi Database/AWS?", 
                opts_en: ["Isolation, speed, no external dependency", "Prettier code", "Cannot connect to real DB", "To hide errors"],
                opts_vi: ["ƒê·ªÉ c√¥ l·∫≠p, test nhanh h∆°n, kh√¥ng ph·ª• thu·ªôc h·ªá th·ªëng ngo√†i", "ƒê·ªÉ code ƒë·∫πp h∆°n", "Do kh√¥ng k·∫øt n·ªëi ƒë∆∞·ª£c DB th·∫≠t", "ƒê·ªÉ che gi·∫•u l·ªói"]
            },
            { 
                day: 5, 
                code: null,
                q_en: "For easier Mocking, code should depend on?",
                q_vi: "ƒê·ªÉ d·ªÖ d√†ng Mocking, code n√™n ph·ª• thu·ªôc v√†o y·∫øu t·ªë n√†o?", 
                opts_en: ["Concrete Structs", "Interfaces", "Global Variables", "Functions"],
                opts_vi: ["Concrete Structs", "Interfaces", "Global Variables", "Functions"]
            },
            { 
                day: 5, 
                code: null,
                q_en: "What errors does Fuzzing find?",
                q_vi: "Fuzzing (`go test -fuzz`) gi√∫p t√¨m ra lo·∫°i l·ªói n√†o?", 
                opts_en: ["Business logic errors", "Edge cases, crashes, hangs", "Syntax errors", "UI errors"],
                opts_vi: ["L·ªói logic nghi·ªáp v·ª•", "Edge Cases, inputs l·∫° g√¢y crash/hang", "L·ªói c√∫ ph√°p", "L·ªói UI"]
            },
            { 
                day: 5, 
                code: null,
                q_en: "Purpose of `TestMain`?",
                q_vi: "H√†m `func TestMain(m *testing.M)` d√πng ƒë·ªÉ l√†m g√¨?", 
                opts_en: ["Replace main function", "Global setup/teardown for package", "Parallel execution", "Benchmark"],
                opts_vi: ["Thay th·∫ø h√†m main", "Setup/teardown chung cho c·∫£ package test", "Ch·∫°y song song", "Benchmark"]
            },
            { 
                day: 5, 
                code: null,
                q_en: "Command to run tests in parallel?",
                q_vi: "L·ªánh n√†o cho ph√©p c√°c test case ch·∫°y song song?", 
                opts_en: ["go test -parallel", "t.Parallel()", "sync.WaitGroup", "go func()"],
                opts_vi: ["go test -parallel", "t.Parallel()", "sync.WaitGroup", "go func()"]
            },
            { 
                day: 5, 
                code: null,
                q_en: "Command to view code coverage?",
                q_vi: "L·ªánh ƒë·ªÉ xem ƒë·ªô ph·ªß code (Code Coverage)?", 
                opts_en: ["go test -v", "go test -cover", "go build -cover", "go tool cover"],
                opts_vi: ["go test -v", "go test -cover", "go build -cover", "go tool cover"]
            },
            { 
                day: 5, 
                code: null,
                q_en: "Purpose of `t.Run()`?",
                q_vi: "Trong Table-Driven Test, `t.Run()` d√πng ƒë·ªÉ l√†m g√¨?", 
                opts_en: ["Create goroutine", "Create subtest with name", "Recursive test", "Print log"],
                opts_vi: ["T·∫°o goroutine", "T·∫°o subtest hi·ªÉn th·ªã t√™n ri√™ng trong b√°o c√°o", "Ch·∫°y ƒë·ªá quy", "In log"]
            },
            { 
                day: 5, 
                code: null,
                q_en: "Tool to generate Mocks?",
                q_vi: "Tool ph·ªï bi·∫øn ƒë·ªÉ t·ª± ƒë·ªông sinh code Mock?", 
                opts_en: ["go generate", "mockgen", "go mock", "testify"],
                opts_vi: ["go generate", "mockgen", "go mock", "testify"]
            },

            // --- DAY 6 ---
            { 
                day: 6, 
                code: null,
                q_en: "Why use Structured Logging (e.g., log/slog)?",
                q_vi: "T·∫°i sao n√™n d√πng Structured Logging (nh∆∞ log/slog) thay v√¨ text log?", 
                opts_en: ["Prettier", "Machine parseable/queryable", "Less storage", "Faster reading"],
                opts_vi: ["ƒê·∫πp h∆°n", "M√°y d·ªÖ parse/query/filter theo field", "T·ªën √≠t dung l∆∞·ª£ng", "JSON ƒë·ªçc nhanh h∆°n"]
            },
            { 
                day: 6, 
                code: null,
                q_en: "Log level for critical errors?",
                q_vi: "M·ª©c log n√†o d√πng cho l·ªói nghi√™m tr·ªçng khi·∫øn app kh√¥ng th·ªÉ ch·∫°y ti·∫øp?", 
                opts_en: ["DEBUG", "INFO", "WARN", "ERROR / FATAL"],
                opts_vi: ["DEBUG", "INFO", "WARN", "ERROR / FATAL"]
            },
            { 
                day: 6, 
                code: null,
                q_en: "What does a 'Trace' represent?",
                q_vi: "Trong Distributed Tracing, m·ªôt 'Trace' ƒë·∫°i di·ªán cho g√¨?", 
                opts_en: ["A log line", "Full journey of a request across services", "Stack trace", "DB Query"],
                opts_vi: ["M·ªôt d√≤ng log", "H√†nh tr√¨nh tr·ªçn v·∫πn c·ªßa 1 Request qua c√°c services", "Stack trace", "Query DB"]
            },
            { 
                day: 6, 
                code: null,
                q_en: "How to correlate logs/traces across functions?",
                q_vi: "ƒê·ªÉ Log/Trace li√™n k·∫øt xuy√™n su·ªët request, ta ph·∫£i l√†m g√¨ v·ªõi Context?", 
                opts_en: ["Save to DB", "Propagate ctx through functions", "Create new ctx", "Nothing needed"],
                opts_vi: ["L∆∞u v√†o DB", "Truy·ªÅn ctx xuy√™n su·ªët c√°c h√†m", "T·∫°o m·ªõi ctx", "Kh√¥ng c·∫ßn l√†m g√¨"]
            },
            { 
                day: 6, 
                code: null,
                q_en: "Purpose of `pprof`?",
                q_vi: "`pprof` d√πng ƒë·ªÉ l√†m g√¨?", 
                opts_en: ["Dependency management", "Performance Profiling", "Unit test", "Format code"],
                opts_vi: ["Qu·∫£n l√Ω dependencies", "Profiling hi·ªáu nƒÉng (CPU, Memory...)", "Unit test", "Format code"]
            },
            { 
                day: 6, 
                code: null,
                q_en: "Build flag to reduce binary size?",
                q_vi: "Flag build n√†o gi√∫p gi·∫£m dung l∆∞·ª£ng file binary?", 
                opts_en: [`-ldflags="-s -w"`, "-race", "-gcflags", "-v"],
                opts_vi: [`-ldflags="-s -w"`, "-race", "-gcflags", "-v"]
            },
            { 
                day: 6, 
                code: null,
                q_en: "Purpose of `slog.Group()`?",
                q_vi: "Trong `log/slog`, `slog.Group()` d√πng ƒë·ªÉ l√†m g√¨?", 
                opts_en: ["Merge logs", "Create nested JSON structure", "Speed up", "Encrypt"],
                opts_vi: ["G·ªôp log th√†nh 1 d√≤ng", "T·∫°o c·∫•u tr√∫c JSON l·ªìng nhau (nested)", "TƒÉng t·ªëc ƒë·ªô", "M√£ h√≥a"]
            },
            { 
                day: 6, 
                code: null,
                q_en: "Smallest unit in a Trace?",
                q_vi: "Th√†nh ph·∫ßn nh·ªè nh·∫•t trong m·ªôt Trace g·ªçi l√† g√¨?", 
                opts_en: ["Node", "Span", "Log", "Event"],
                opts_vi: ["Node", "Span", "Log", "Event"]
            },
            { 
                day: 6, 
                code: null,
                q_en: "Difference between `Alloc` and `TotalAlloc`?",
                q_vi: "S·ª± kh√°c bi·ªát gi·ªØa `TotalAlloc` v√† `Alloc` trong runtime.MemStats?", 
                opts_en: ["Same", "Alloc is current usage, TotalAlloc is cumulative", "Alloc is cumulative", "TotalAlloc includes Stack"],
                opts_vi: ["Gi·ªëng nhau", "Alloc l√† RAM hi·ªán t·∫°i, TotalAlloc l√† t·ªïng t√≠ch l≈©y ƒë√£ c·∫•p ph√°t", "Alloc l√† t√≠ch l≈©y", "TotalAlloc g·ªìm c·∫£ Stack"]
            },
            { 
                day: 6, 
                code: null,
                q_en: "Benefit of Function Inlining?",
                q_vi: "Function Inlining gi√∫p t·ªëi ∆∞u g√¨?", 
                opts_en: ["Reduce binary size", "Reduce function call overhead", "Faster compile", "Reduce RAM"],
                opts_vi: ["Gi·∫£m dung l∆∞·ª£ng", "Gi·∫£m chi ph√≠ g·ªçi h√†m (overhead)", "TƒÉng t·ªëc bi√™n d·ªãch", "Gi·∫£m RAM"]
            }
        ];

        // --- APP STATE ---
        let currentIndex = 0;
        let userAnswers = {}; // { 0: 1, 5: 3 } (QuestionIndex: OptionIndex)
        let timeLeft = 90 * 60; // 90 minutes in seconds
        let timerInterval;
        let currentLang = 'en'; // Default English

        // --- DOM ELEMENTS ---
        const pageWelcome = document.getElementById('page-welcome');
        const pageQuiz = document.getElementById('page-quiz');
        const pageResult = document.getElementById('page-result');
        const nameInput = document.getElementById('username-input');
        const nameError = document.getElementById('name-error');
        const displayName = document.getElementById('display-name');
        
        const qGrid = document.getElementById('question-grid');
        const qText = document.getElementById('q-text');
        const qCode = document.getElementById('q-code-container');
        const qOptions = document.getElementById('q-options');
        const qDay = document.getElementById('q-day');
        const qCurrent = document.getElementById('q-current');
        const timerEl = document.getElementById('timer');
        const langBtn = document.getElementById('btn-lang-toggle');

        // UI Strings
        const uiText = {
            en: {
                welcomeDesc: "Welcome to the Golang proficiency test.<br>Time: <strong>90 mins</strong> | Questions: <strong>60</strong><br>Requirement: <strong>45/60</strong> to PASS.",
                enterName: "ENTER YOUR NAME:",
                nameError: "* Please enter your name to start.",
                startBtn: "START QUIZ <i class='fas fa-play ml-2'></i>",
                timeRem: "Time Remaining",
                submit: "SUBMIT",
                prev: "<i class='fas fa-arrow-left mr-2'></i> PREV",
                next: "NEXT <i class='fas fa-arrow-right ml-2'></i>",
                qMap: "QUESTION MAP",
                score: "Score",
                pct: "Percentage",
                result: "Result",
                review: "Review Notes:",
                retake: "RETAKE QUIZ",
                confirmMsg: "You have answered {0}/{1} questions.\nThere are {2} unanswered questions which will be marked as incorrect.\n\nAre you sure you want to submit?",
                timeoutMsg: "Time's up! Submitting automatically.",
                yourAns: "Your Choice:",
                correctAns: "Correct:",
				candidate: "Candidate", 
				compDate: "Completion Date"
            },
            vi: {
                welcomeDesc: "Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi b√†i ki·ªÉm tra nƒÉng l·ª±c Golang.<br>Th·ªùi gian: <strong>90 ph√∫t</strong> | S·ªë c√¢u: <strong>60</strong><br>Y√™u c·∫ßu: <strong>45/60</strong> ƒë·ªÉ ƒê·∫¨U.",
                enterName: "NH·∫¨P H·ªå T√äN C·ª¶A B·∫†N:",
                nameError: "* Vui l√≤ng nh·∫≠p t√™n ƒë·ªÉ b·∫Øt ƒë·∫ßu.",
                startBtn: "B·∫ÆT ƒê·∫¶U <i class='fas fa-play ml-2'></i>",
                timeRem: "Th·ªùi Gian C√≤n L·∫°i",
                submit: "N·ªòP B√ÄI",
                prev: "<i class='fas fa-arrow-left mr-2'></i> TR∆Ø·ªöC",
                next: "SAU <i class='fas fa-arrow-right ml-2'></i>",
                qMap: "B·∫¢N ƒê·ªí C√ÇU H·ªéI",
                score: "ƒêi·ªÉm S·ªë",
                pct: "Ph·∫ßn TrƒÉm",
                result: "K·∫øt Qu·∫£",
                review: "Xem L·∫°i:",
                retake: "L√ÄM L·∫†I",
                confirmMsg: "B·∫°n ƒë√£ l√†m {0}/{1} c√¢u.\nC√≤n {2} c√¢u ch∆∞a l√†m s·∫Ω b·ªã t√≠nh l√† sai.\n\nB·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën n·ªôp b√†i?",
                timeoutMsg: "H·∫øt gi·ªù! H·ªá th·ªëng ƒëang t·ª± ƒë·ªông n·ªôp b√†i.",
                yourAns: "B·∫°n ch·ªçn:",
                correctAns: "ƒê√°p √°n:",
				candidate: "Th√≠ sinh", 
				compDate: "Ng√†y ho√†n th√†nh"
            }
        };

        // --- INIT ---
        window.onload = () => {
            const savedName = localStorage.getItem('golang_quiz_user');
            if (savedName) nameInput.value = savedName;
            updateUILanguage();
            
            // Anti-Cheat: Block Right Click
            document.addEventListener('contextmenu', event => event.preventDefault());

            // Anti-Cheat: Block F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U
            document.addEventListener('keydown', function(e) {
                if(e.key === 'F12' || e.keyCode === 123) { e.preventDefault(); return false; }
                if(e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'i' || e.keyCode === 73)) { e.preventDefault(); return false; }
                if(e.ctrlKey && e.shiftKey && (e.key === 'J' || e.key === 'j' || e.keyCode === 74)) { e.preventDefault(); return false; }
                if(e.ctrlKey && (e.key === 'U' || e.key === 'u' || e.keyCode === 85)) { e.preventDefault(); return false; }
            });
        };

        // --- LANGUAGE LOGIC ---
        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'vi' : 'en';
            langBtn.innerHTML = `Language: <span class="font-bold text-[#cb4b16]">${currentLang.toUpperCase()}</span>`;
            updateUILanguage();
            
            // Reload current question content if quiz started
            if (!pageQuiz.classList.contains('hidden')) {
                loadQuestion(currentIndex);
            }
        }

        function updateUILanguage() {
            const t = uiText[currentLang];
            document.getElementById('txt-welcome-desc').innerHTML = t.welcomeDesc;
            document.getElementById('txt-enter-name').textContent = t.enterName;
            document.getElementById('name-error').textContent = t.nameError;
            document.getElementById('btn-start').innerHTML = t.startBtn;
            document.getElementById('txt-time-remaining').textContent = t.timeRem;
            document.getElementById('btn-submit').textContent = t.submit;
            document.getElementById('btn-prev').innerHTML = t.prev;
            document.getElementById('btn-next').innerHTML = t.next;
            document.getElementById('txt-q-map').textContent = t.qMap;
            document.getElementById('lbl-score').textContent = t.score;
            document.getElementById('lbl-pct').textContent = t.pct;
            document.getElementById('lbl-result').textContent = t.result;
            document.getElementById('lbl-review').textContent = t.review;
            document.getElementById('btn-retake').textContent = t.retake;
			document.getElementById('lbl-result-candidate').textContent = t.candidate;
            document.getElementById('lbl-result-date').textContent = t.compDate;
        }

        // --- NAVIGATION LOGIC ---
        function startQuiz() {
            const name = nameInput.value.trim();
            if (!name) {
                nameError.classList.remove('hidden');
                return;
            }
            nameError.classList.add('hidden');
            localStorage.setItem('golang_quiz_user', name);
            displayName.textContent = name;

            pageWelcome.classList.add('hidden');
            pageQuiz.classList.remove('hidden');

            renderGrid();
            startTimer();
            loadQuestion(0);
        }

        function renderGrid() {
            qGrid.innerHTML = '';
            questions.forEach((_, idx) => {
                const item = document.createElement('div');
                item.className = `q-grid-item ${idx === currentIndex ? 'active' : ''}`;
                if (userAnswers[idx] !== undefined) item.classList.add('answered');
                item.textContent = idx + 1;
                item.onclick = () => loadQuestion(idx);
                qGrid.appendChild(item);
            });
        }

        function loadQuestion(index) {
            currentIndex = index;
            const q = questions[index];

            qDay.textContent = q.day;
            qCurrent.textContent = index + 1;

            document.querySelectorAll('.q-grid-item').forEach((el, idx) => {
                el.classList.toggle('active', idx === index);
            });

            // Lang Aware Content
            qText.textContent = currentLang === 'en' ? q.q_en : q.q_vi;
            const opts = currentLang === 'en' ? q.opts_en : q.opts_vi;

            if (q.code) {
                qCode.innerHTML = `<pre><code>${escapeHtml(q.code)}</code></pre>`;
                qCode.classList.remove('hidden');
            } else {
                qCode.classList.add('hidden');
            }

            qOptions.innerHTML = '';
            opts.forEach((opt, optIdx) => {
                const isSelected = userAnswers[index] === optIdx;
                
                const label = document.createElement('label');
                label.className = `option-label rounded ${isSelected ? 'selected' : ''}`;
                
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = 'current-q';
                radio.className = 'hidden';
                radio.value = optIdx;
                radio.checked = isSelected;
                radio.onchange = () => selectAnswer(index, optIdx);

                const indicator = document.createElement('div');
                indicator.className = `w-8 h-8 flex items-center justify-center rounded-full border-2 mr-4 font-bold flex-shrink-0 ${isSelected ? 'bg-[#cb4b16] border-[#cb4b16] text-white' : 'border-gray-300 text-gray-400'}`;
                indicator.textContent = String.fromCharCode(65 + optIdx); 

                const text = document.createElement('div');
                text.className = 'option-text font-mono text-sm';
                text.textContent = opt;

                label.appendChild(radio);
                label.appendChild(indicator);
                label.appendChild(text);
                qOptions.appendChild(label);
            });

            document.getElementById('btn-prev').disabled = index === 0;
            document.getElementById('btn-next').disabled = index === questions.length - 1;
        }

        function selectAnswer(qIndex, optIndex) {
            userAnswers[qIndex] = optIndex;
            const gridItem = qGrid.children[qIndex];
            gridItem.classList.add('answered');
            loadQuestion(qIndex);
        }

        function nextQuestion() {
            if (currentIndex < questions.length - 1) loadQuestion(currentIndex + 1);
        }

        function prevQuestion() {
            if (currentIndex > 0) loadQuestion(currentIndex - 1);
        }

        function escapeHtml(text) {
            return text
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        // --- TIMER LOGIC ---
        function startTimer() {
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishQuiz(true);
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const m = Math.floor(timeLeft / 60);
            const s = timeLeft % 60;
            timerEl.textContent = `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
            if (timeLeft < 300) timerEl.classList.add('text-red-600', 'animate-pulse');
        }

        // --- SUBMISSION ---
        function confirmSubmit() {
            const t = uiText[currentLang];
            const answeredCount = Object.keys(userAnswers).length;
            const remaining = questions.length - answeredCount;
            
            // Safe format string
            const msg = t.confirmMsg
                .replace("{0}", answeredCount)
                .replace("{1}", questions.length)
                .replace("{2}", remaining);
            
            if (confirm(msg)) {
                finishQuiz(false);
            }
        }

        function finishQuiz(auto) {
            clearInterval(timerInterval);
            if (auto) alert(uiText[currentLang].timeoutMsg);
			
			const timestamp = new Date().toLocaleString(currentLang === 'vi' ? 'vi-VN' : 'en-US');
            const candidateName = nameInput.value.trim();

            document.getElementById('result-username').textContent = candidateName;
            document.getElementById('result-timestamp').textContent = timestamp;

            let correctKey = [];
            try {
                correctKey = JSON.parse(atob(encodedKey));
            } catch (e) {
                console.error("Decryption failed");
                return;
            }

            let score = 0;
            let wrongListHTML = '';
            const t = uiText[currentLang];

            questions.forEach((q, idx) => {
                const userAns = userAnswers[idx];
                const correctAns = correctKey[idx];

                if (userAns === correctAns) {
                    score++;
                } else {
                    const uVal = userAns !== undefined ? String.fromCharCode(65 + userAns) : "---";
                    const cVal = String.fromCharCode(65 + correctAns);
                    const qTitle = currentLang === 'en' ? q.q_en : q.q_vi;
                    
                    wrongListHTML += `
                        <li class="border-b border-gray-300 pb-2 mb-2">
                            <div class="font-bold text-[#cb4b16]">Q${idx+1}: ${qTitle}</div>
                            <div class="flex justify-between mt-1 text-xs">
                                <span class="text-red-600">${t.yourAns} ${uVal}</span>
                                <span class="text-[#859900] font-bold">${t.correctAns} ${cVal}</span>
                            </div>
                        </li>
                    `;
                }
            });

            // Force hide quiz page, show result page
            pageQuiz.style.display = 'none'; // Ensure CSS priority
            pageResult.classList.remove('hidden');
            pageResult.style.display = 'flex'; // Fix Flex display

            // Scroll to top
            window.scrollTo(0, 0);

            const percentage = Math.round((score / 60) * 100);
            const isPassed = score >= 1;

            document.getElementById('score-val').textContent = `${score}/60`;
            document.getElementById('score-pct').textContent = `${percentage}%`;
            
            const statusEl = document.getElementById('score-status');
            const headerEl = document.getElementById('result-header');

            if (isPassed) {
                statusEl.textContent = "PASSED";
                statusEl.className = "text-3xl font-bold font-mono text-[#859900]";
                headerEl.innerHTML = `
                    <div class="text-6xl mb-4">üéâ</div>
                    <h2 class="text-4xl font-bold text-[#859900] pass-stamp border-4 inline-block px-8 py-2">CERTIFIED</h2>
                `;
                launchConfetti();
            } else {
                statusEl.textContent = "FAILED";
                statusEl.className = "text-3xl font-bold font-mono text-[#dc322f]";
                headerEl.innerHTML = `
                    <div class="text-6xl mb-4">üåßÔ∏è</div>
                    <h2 class="text-4xl font-bold text-[#dc322f] fail-stamp border-4 inline-block px-8 py-2">TRY AGAIN</h2>
                `;
            }

            document.getElementById('review-list').innerHTML = wrongListHTML || "<li class='text-center italic'>Perfect Score!</li>";
        }

        // --- FX ---
        function launchConfetti() {
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }
                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }

        function randomInRange(min, max) { return Math.random() * (max - min) + min; }

    </script>
</body>
</html>
<!--
Date: 2026 01 15
Author: Thai Phung
 -->